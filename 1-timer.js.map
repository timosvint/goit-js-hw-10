{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { stringify } from \"postcss\";\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = addLeadingZero(Math.floor((ms % day) / hour));\n    // Remaining minutes\n    const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n    // Remaining seconds\n    const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n  \n    return { days, hours, minutes, seconds };\n  }\n  \n  console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n  console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n  console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\n\n\n\nconst startButton = document.querySelector(`button`)\nconst daysData = document.querySelector('[data-days]');\n const hoursData = document.querySelector('[data-hours]');\nconst minuteData = document.querySelector('[data-minutes]');\nconst secondData = document.querySelector('[data-seconds]');\n\n\n\n\nlet userSelectedDate = null\n\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        console.log(selectedDates[0]);\n        const selectedDate = selectedDates[0];\n        let currentTime = new Date();\n        if (selectedDate <= currentTime ) {\n            iziToast.error({\n                title: 'error',\n                message: 'Please choose a date in the future',\n                position: 'topRight',\n            });\n            userSelectedDate = null;\n            startButton.disabled = true;\n        }\n        else {\n            userSelectedDate = selectedDate;\n            startButton.disabled = false;\n        }\n    },\n};\n\n\nconst timer = {\n    startedTimer: false,\n    timerId: null,\n    start() {\n        if (this.startedTimer) {\n            return\n        }\n        this.startedTimer = true\n        const dateNow = new Date();\n        startButton.disabled = true\n        \n        \n         this.timerId = setInterval(() => {\n            startButton.disabled = true\n             const timerData = new Date();\n             const Data = userSelectedDate - timerData;\n            const timeGive = convertMs(Data)\n             ClockTimeData(timeGive)\n             if (Data <= 0) {\n                 clearInterval(this.timerId)\n                 this.startedTimer = false\n                 ClockTimeData({ days: 0, hours: '00', minutes: '00', seconds: '00' });\n                 startButton.disabled = false\n                 return;\n             }\n        }, 1000);\n    },\n    \n\n      \n}\n\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, `0`)\n}\n\n\nflatpickr(`input#datetime-picker`, options);\n\nfunction ClockTimeData({ days, hours, minutes, seconds }) {\n    daysData.textContent = `${days}`;\n    hoursData.textContent = `${hours}`;\n    minuteData.textContent = `${minutes}`\n    secondData.textContent = `${seconds}`\n}\n\n\nstartButton.addEventListener(`click`, timer.start.bind(timer))\n\n"],"names":["convertMs","ms","days","hours","addLeadingZero","minutes","seconds","startButton","daysData","hoursData","minuteData","secondData","userSelectedDate","options","selectedDates","selectedDate","iziToast","timer","Data","timeGive","ClockTimeData","value","flatpickr"],"mappings":"sGAQA,SAASA,EAAUC,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQC,EAAe,KAAK,MAAOH,EAAK,MAAO,IAAI,CAAC,EAEpDI,EAAUD,EAAe,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,CAAC,EAEjEK,EAAUF,EAAe,KAAK,MAASH,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAElF,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAE,EAAS,QAAAC,CAAO,CACvC,CAED,QAAQ,IAAIN,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC,EAKjC,MAAMO,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAW,SAAS,cAAc,aAAa,EAC9CC,EAAY,SAAS,cAAc,cAAc,EAClDC,EAAa,SAAS,cAAc,gBAAgB,EACpDC,EAAa,SAAS,cAAc,gBAAgB,EAK1D,IAAIC,EAAmB,KAIvB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5B,MAAMC,EAAeD,EAAc,CAAC,EAEhCC,GADc,IAAI,MAElBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,UAC1B,CAAa,EACDJ,EAAmB,KACnBL,EAAY,SAAW,KAGvBK,EAAmBG,EACnBR,EAAY,SAAW,GAE9B,CACL,EAGMU,EAAQ,CACV,aAAc,GACd,QAAS,KACT,OAAQ,CACA,KAAK,eAGT,KAAK,aAAe,GAEpBV,EAAY,SAAW,GAGtB,KAAK,QAAU,YAAY,IAAM,CAC9BA,EAAY,SAAW,GAEtB,MAAMW,EAAON,EADK,IAAI,KAEjBO,EAAWnB,EAAUkB,CAAI,EAE9B,GADAE,EAAcD,CAAQ,EAClBD,GAAQ,EAAG,CACX,cAAc,KAAK,OAAO,EAC1B,KAAK,aAAe,GACpBE,EAAc,CAAE,KAAM,EAAG,MAAO,KAAM,QAAS,KAAM,QAAS,IAAI,CAAE,EACpEb,EAAY,SAAW,GACvB,MACH,CACL,EAAE,GAAI,EACV,CAIL,EAGA,SAASH,EAAeiB,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAGAC,EAAU,wBAAyBT,CAAO,EAE1C,SAASO,EAAc,CAAE,KAAAlB,EAAM,MAAAC,EAAO,QAAAE,EAAS,QAAAC,CAAO,EAAI,CACtDE,EAAS,YAAc,GAAGN,CAAI,GAC9BO,EAAU,YAAc,GAAGN,CAAK,GAChCO,EAAW,YAAc,GAAGL,CAAO,GACnCM,EAAW,YAAc,GAAGL,CAAO,EACvC,CAGAC,EAAY,iBAAiB,QAASU,EAAM,MAAM,KAAKA,CAAK,CAAC"}